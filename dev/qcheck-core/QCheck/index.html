<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>QCheck (qcheck-core.QCheck)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">qcheck-core</a> &#x00BB; QCheck</nav><h1>Module <code>QCheck</code></h1><h2 id="quickcheck-inspired-property-based-testing"><a href="#quickcheck-inspired-property-based-testing" class="anchor"></a>Quickcheck inspired property-based testing</h2><nav class="toc"><ul><li><a href="#pretty-printing">Pretty printing</a></li><li><a href="#observe-values">Observe Values</a></li><li><a href="#arbitrary">Arbitrary</a></li><li><a href="#tests">Tests</a></li><li><a href="#sub-tests">Sub-tests</a></li><li><a href="#combinators-for-arbitrary">Combinators for arbitrary</a></li></ul></nav></header><aside><p>The library takes inspiration from Haskell's QuickCheck library. The rough idea is that the programmer describes invariants that values of a certain type need to satisfy (&quot;properties&quot;), as functions from this type to bool. She also needs to describe how to generate random values of the type, so that the property is tried and checked on a number of random instances.</p><p>This explains the organization of this module:</p><ul><li><code>'a arbitrary</code> is used to describe how to generate random values, shrink them (make counter-examples as small as possible), print them, etc. Auxiliary modules such as <a href="Gen/index.html"><code>Gen</code></a>, <a href="Print/index.html"><code>Print</code></a>, and <a href="Shrink/index.html"><code>Shrink</code></a> can be used along with <a href="index.html#val-make"><code>make</code></a> to build one's own arbitrary instances.</li></ul><ul><li><a href="Test/index.html"><code>Test</code></a> is used to describe a single test, that is, a property of type <code>'a -&gt; bool</code> combined with an <code>'a arbitrary</code> that is used to generate the test cases for this property. Optional parameters allow to specify the random generator state, number of instances to generate and test, etc.</li></ul><p>Examples:</p><ul><li>List.rev is involutive:</li></ul><pre><code class="ml">let test =
  QCheck.(Test.make ~count:1000
            (list int) (fun l -&gt; List.rev (List.rev l) = l));;

QCheck.Test.check_exn test;;</code></pre><ul><li>Not all lists are sorted (false property that will fail. The 15 smallest counter-example lists will be printed):</li></ul><pre><code class="ml">let test = QCheck.(
    Test.make
      ~count:10_000 ~max_fail:3
      (list small_nat)
      (fun l -&gt; l = List.sort compare l));;
QCheck.Test.check_exn test;;</code></pre><ul><li>generate 20 random trees using <a href="Gen/index.html#val-fix"><code>Gen.fix</code></a> :</li></ul><pre><code class="ml">type tree = Leaf of int | Node of tree * tree

let leaf x = Leaf x
let node x y = Node (x,y)

let g = QCheck.Gen.(sized @@ fix
                      (fun self n -&gt; match n with
                         | 0 -&gt; map leaf nat
                         | n -&gt;
                           frequency
                             [1, map leaf nat;
                              2, map2 node (self (n/2)) (self (n/2))]
                      ))

    Gen.generate ~n:20 g;;</code></pre><p>More complex and powerful combinators can be found in Gabriel Scherer's <code>Generator</code> module. Its documentation can be found <a href="http://gasche.github.io/random-generator/doc/Generator.html">here</a>.</p></aside><dl><dt class="spec value" id="val-(==&gt;)"><a href="#val-(==&gt;)" class="anchor"></a><code><span class="keyword">val</span> (==&gt;) : bool <span>&#45;&gt;</span> bool <span>&#45;&gt;</span> bool</code></dt><dd><p><code>b1 ==&gt; b2</code> is the logical implication <code>b1 =&gt; b2</code> ie <code>not b1 || b2</code> (except that it is strict and will interact better with <a href="Test/index.html#val-check_exn"><code>Test.check_exn</code></a> and the likes, because they will know the precondition was not satisfied.).</p><p><b>WARNING</b>: this function should only be used in a property (see <a href="Test/index.html#val-make"><code>Test.make</code></a>), because it raises a special exception in case of failure of the first argument, to distinguish between failed test and failed precondition. Because of OCaml's evaluation order, both <code>b1</code> and <code>b2</code> are always evaluated; if <code>b2</code> should only be evaluated when <code>b1</code> holds, see <a href="index.html#val-assume"><code>assume</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-assume"><a href="#val-assume" class="anchor"></a><code><span class="keyword">val</span> assume : bool <span>&#45;&gt;</span> unit</code></dt><dd><p><code>assume cond</code> checks the precondition <code>cond</code>, and does nothing if <code>cond=true</code>. If <code>cond=false</code>, it interrupts the current test.</p><p><b>WARNING</b> This function, like <a href="index.html#val-(==&gt;)"><code>(==&gt;)</code></a>, should only be used in a test, not outside. Example:</p><pre><code class="ml">Test.make (list int) (fun l -&gt;
    assume (l &lt;&gt; []);
    List.hd l :: List.tl l = l)</code></pre><dl><dt>since</dt><dd>0.5.1</dd></dl></dd></dl><dl><dt class="spec value" id="val-assume_fail"><a href="#val-assume_fail" class="anchor"></a><code><span class="keyword">val</span> assume_fail : unit <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p><code>assume_fail ()</code> is like <code>assume false</code>, but can take any type since we know it always fails (like <code>assert false</code>). This is useful to ignore some branches in <code>if</code> or <code>match</code>.</p><p>Example:</p><pre><code class="ml">Test.make (list int) (function
    | [] -&gt; assume_fail ()
    | _::_ as l -&gt; List.hd l :: List.tl l = l)</code></pre><dl><dt>since</dt><dd>0.5.1</dd></dl></dd></dl><dl><dt class="spec module" id="module-Gen"><a href="#module-Gen" class="anchor"></a><code><span class="keyword">module</span> <a href="Gen/index.html">Gen</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl><section><header><h3 id="pretty-printing"><a href="#pretty-printing" class="anchor"></a>Pretty printing</h3></header><dl><dt class="spec module" id="module-Print"><a href="#module-Print" class="anchor"></a><code><span class="keyword">module</span> <a href="Print/index.html">Print</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl><dl><dt class="spec module" id="module-Iter"><a href="#module-Iter" class="anchor"></a><code><span class="keyword">module</span> <a href="Iter/index.html">Iter</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl><dl><dt class="spec module" id="module-Shrink"><a href="#module-Shrink" class="anchor"></a><code><span class="keyword">module</span> <a href="Shrink/index.html">Shrink</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd></dd></dl></section><section><header><h3 id="observe-values"><a href="#observe-values" class="anchor"></a>Observe Values</h3></header><aside><p>Observables are usable as arguments for random functions. The random function will observe its arguments in a way that is determined from the observable instance.</p><p>Inspired from https://blogs.janestreet.com/quickcheck-for-core/ and Koen Claessen's &quot;Shrinking and Showing functions&quot;.</p><dl><dt>since</dt><dd>0.6</dd></dl></aside><div class="spec module" id="module-Observable"><a href="#module-Observable" class="anchor"></a><code><span class="keyword">module</span> <a href="Observable/index.html">Observable</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div></section><section><header><h3 id="arbitrary"><a href="#arbitrary" class="anchor"></a>Arbitrary</h3><p>A value of type <code>'a arbitrary</code> glues together a random generator, and optional functions for shrinking, printing, computing the size, etc. It is the &quot;normal&quot; way of describing how to generate values of a given type, to be then used in tests (see <a href="Test/index.html"><code>Test</code></a>).</p></header><dl><dt class="spec type" id="type-stat"><a href="#type-stat" class="anchor"></a><code><span class="keyword">type</span> <span>'a stat</span></code><code> = string * <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></code></dt><dd><p>A statistic on a distribution of values of type <code>'a</code>. The function <b>MUST</b> return a positive integer.</p></dd></dl><dl><dt class="spec type" id="type-arbitrary"><a href="#type-arbitrary" class="anchor"></a><code><span class="keyword">type</span> <span>'a arbitrary</span></code><code> = <span class="keyword">private</span> </code><code>{</code><table class="record"><tr id="type-arbitrary.gen" class="anchored"><td class="def field"><a href="#type-arbitrary.gen" class="anchor"></a><code>gen : <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span>;</code></td></tr><tr id="type-arbitrary.print" class="anchored"><td class="def field"><a href="#type-arbitrary.print" class="anchor"></a><code>print : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span> option</span>;</code></td><td class="doc"><p>print values</p></td></tr><tr id="type-arbitrary.small" class="anchored"><td class="def field"><a href="#type-arbitrary.small" class="anchor"></a><code>small : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span> option</span>;</code></td><td class="doc"><p>size of example</p></td></tr><tr id="type-arbitrary.shrink" class="anchored"><td class="def field"><a href="#type-arbitrary.shrink" class="anchor"></a><code>shrink : <span><span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> option</span>;</code></td><td class="doc"><p>shrink to smaller examples</p></td></tr><tr id="type-arbitrary.collect" class="anchored"><td class="def field"><a href="#type-arbitrary.collect" class="anchor"></a><code>collect : <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span> option</span>;</code></td><td class="doc"><p>map value to tag, and group by tag</p></td></tr><tr id="type-arbitrary.stats" class="anchored"><td class="def field"><a href="#type-arbitrary.stats" class="anchor"></a><code>stats : <span><span><span class="type-var">'a</span> <a href="index.html#type-stat">stat</a></span> list</span>;</code></td><td class="doc"><p>statistics to collect and print</p></td></tr></table><code>}</code></dt><dd><p>A value of type <code>'a arbitrary</code> is an object with a method for generating random values of type <code>'a</code>, and additional methods to compute the size of values, print them, and possibly shrink them into smaller counter-examples.</p><p><b>NOTE</b> the collect field is unstable and might be removed, or moved into <a href="Test/index.html"><code>Test</code></a>.</p><p>Made private since 0.8</p></dd></dl><dl><dt class="spec value" id="val-make"><a href="#val-make" class="anchor"></a><code><span class="keyword">val</span> make : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;small:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;shrink:<span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;collect:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span>?&#8288;stats:<span><span><span class="type-var">'a</span> <a href="index.html#type-stat">stat</a></span> list</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Builder for arbitrary. Default is to only have a generator, but other arguments can be added.</p><dl><dt>parameter print</dt><dd><p>printer for values (counter-examples)</p></dd></dl><dl><dt>parameter collect</dt><dd><p>for statistics</p></dd></dl><dl><dt>parameter shrink</dt><dd><p>to shrink counter-examples</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-set_print"><a href="#val-set_print" class="anchor"></a><code><span class="keyword">val</span> set_print : <span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-set_small"><a href="#val-set_small" class="anchor"></a><code><span class="keyword">val</span> set_small : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-set_shrink"><a href="#val-set_shrink" class="anchor"></a><code><span class="keyword">val</span> set_shrink : <span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-set_collect"><a href="#val-set_collect" class="anchor"></a><code><span class="keyword">val</span> set_collect : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-set_stats"><a href="#val-set_stats" class="anchor"></a><code><span class="keyword">val</span> set_stats : <span><span><span class="type-var">'a</span> <a href="index.html#type-stat">stat</a></span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-add_shrink_invariant"><a href="#val-add_shrink_invariant" class="anchor"></a><code><span class="keyword">val</span> add_shrink_invariant : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Update shrinker by only keeping smaller values satisfying the given invariant.</p><dl><dt>since</dt><dd>0.8</dd></dl></dd></dl><dl><dt class="spec value" id="val-set_gen"><a href="#val-set_gen" class="anchor"></a><code><span class="keyword">val</span> set_gen : <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Change the generator</p><dl><dt>since</dt><dd>0.7</dd></dl></dd></dl><dl><dt class="spec value" id="val-add_stat"><a href="#val-add_stat" class="anchor"></a><code><span class="keyword">val</span> add_stat : <span><span class="type-var">'a</span> <a href="index.html#type-stat">stat</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Add a statistic to the arbitrary instance.</p><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-gen"><a href="#val-gen" class="anchor"></a><code><span class="keyword">val</span> gen : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></code></dt><dd><p>Access the underlying random generator of this arbitrary object.</p><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-get_gen"><a href="#val-get_gen" class="anchor"></a><code><span class="keyword">val</span> get_gen : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></code></dt><dd><p>Access the underlying random generator of this arbitrary object.</p><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-get_print"><a href="#val-get_print" class="anchor"></a><code><span class="keyword">val</span> get_print : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span> option</span></code></dt></dl></section><section><header><h3 id="tests"><a href="#tests" class="anchor"></a>Tests</h3><p>A test is a universal property of type <code>foo -&gt; bool</code> for some type <code>foo</code>, with an object of type <code>foo arbitrary</code> used to generate, print, etc. values of type <code>foo</code>.</p><p>See <a href="Test/index.html#val-make"><code>Test.make</code></a> to build a test, and <a href="Test/index.html#val-check_exn"><code>Test.check_exn</code></a> to run one test simply. For more serious testing, it is better to create a testsuite and use <code>QCheck_runner</code>.</p></header><dl><dt class="spec module" id="module-TestResult"><a href="#module-TestResult" class="anchor"></a><code><span class="keyword">module</span> <a href="TestResult/index.html">TestResult</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Result of running a test</p></dd></dl><dl><dt class="spec module" id="module-Test"><a href="#module-Test" class="anchor"></a><code><span class="keyword">module</span> <a href="Test/index.html">Test</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Module related to individual tests.</p></dd></dl></section><section><header><h3 id="sub-tests"><a href="#sub-tests" class="anchor"></a>Sub-tests</h3></header><aside><p>The infrastructure used to find counter-examples to properties can also be used to find data satisfying a predicate, <i>within a property being tested</i>.</p><p>See https://github.com/c-cube/qcheck/issues/31</p></aside><dl><dt class="spec exception" id="exception-No_example_found"><a href="#exception-No_example_found" class="anchor"></a><code><span class="keyword">exception</span> </code><code><span class="exception">No_example_found</span> <span class="keyword">of</span> string</code></dt></dl><dl><dt class="spec value" id="val-find_example"><a href="#val-find_example" class="anchor"></a><code><span class="keyword">val</span> find_example : <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;count:int</span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span></code></dt><dd><p><code>find_example ~f gen</code> uses <code>gen</code> to generate some values of type <code>'a</code>, and checks them against <code>f</code>. If such a value is found, it is returned. Otherwise an exception is raised. <b>NOTE</b> this should only be used from within a property in <a href="Test/index.html#val-make"><code>Test.make</code></a>.</p><dl><dt>parameter count</dt><dd><p>number of attempts.</p></dd></dl><dl><dt>parameter name</dt><dd><p>description of the example to find (used in the exception).</p></dd></dl><dl><dt>parameter f</dt><dd><p>the property that the example must satisfy.</p></dd></dl><dl><dt>raises No_example_found</dt><dd><p>if no example is found within <code>count</code> tries.</p></dd></dl><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-find_example_gen"><a href="#val-find_example_gen" class="anchor"></a><code><span class="keyword">val</span> find_example_gen : <span>?&#8288;rand:Stdlib.Random.State.t</span> <span>&#45;&gt;</span> <span>?&#8288;name:string</span> <span>&#45;&gt;</span> <span>?&#8288;count:int</span> <span>&#45;&gt;</span> <span>f:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> bool)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'a</span></code></dt><dd><p>Toplevel version of <a href="index.html#val-find_example"><code>find_example</code></a>. <code>find_example_gen ~f arb ~n</code> is roughly the same as <code>Gen.generate1 (find_example ~f arb |&gt; gen)</code>.</p><dl><dt>parameter rand</dt><dd><p>the random state to use to generate inputs.</p></dd></dl><dl><dt>raises No_example_found</dt><dd><p>if no example was found within <code>count</code> tries.</p></dd></dl><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl></section><section><header><h3 id="combinators-for-arbitrary"><a href="#combinators-for-arbitrary" class="anchor"></a>Combinators for arbitrary</h3></header><dl><dt class="spec value" id="val-choose"><a href="#val-choose" class="anchor"></a><code><span class="keyword">val</span> choose : <span><span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Choose among the given list of generators. The list must not be empty; if it is Invalid_argument is raised.</p></dd></dl><dl><dt class="spec value" id="val-unit"><a href="#val-unit" class="anchor"></a><code><span class="keyword">val</span> unit : <span>unit <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Always generates <code>()</code>, obviously.</p></dd></dl><dl><dt class="spec value" id="val-bool"><a href="#val-bool" class="anchor"></a><code><span class="keyword">val</span> bool : <span>bool <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Uniform boolean generator.</p></dd></dl><dl><dt class="spec value" id="val-float"><a href="#val-float" class="anchor"></a><code><span class="keyword">val</span> float : <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates regular floats (no nan and no infinities).</p></dd></dl><dl><dt class="spec value" id="val-pos_float"><a href="#val-pos_float" class="anchor"></a><code><span class="keyword">val</span> pos_float : <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Positive float generator (no nan and no infinities).</p></dd></dl><dl><dt class="spec value" id="val-neg_float"><a href="#val-neg_float" class="anchor"></a><code><span class="keyword">val</span> neg_float : <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Negative float generator (no nan and no infinities).</p></dd></dl><dl><dt class="spec value" id="val-float_bound_inclusive"><a href="#val-float_bound_inclusive" class="anchor"></a><code><span class="keyword">val</span> float_bound_inclusive : float <span>&#45;&gt;</span> <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>float_bound_inclusive n</code> is uniform between <code>0</code> and <code>n</code> included. If <code>bound</code> is negative, the result is negative or zero. If <code>bound</code> is 0, the result is 0.</p><dl><dt>since</dt><dd>0.11</dd></dl></dd></dl><dl><dt class="spec value" id="val-float_bound_exclusive"><a href="#val-float_bound_exclusive" class="anchor"></a><code><span class="keyword">val</span> float_bound_exclusive : float <span>&#45;&gt;</span> <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>float_bound_exclusive n</code> is uniform between <code>0</code> included and <code>n</code> excluded. If <code>bound</code> is negative, the result is negative or zero.</p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>bound</code> is zero.</p></dd></dl><dl><dt>since</dt><dd>0.11</dd></dl></dd></dl><dl><dt class="spec value" id="val-float_range"><a href="#val-float_range" class="anchor"></a><code><span class="keyword">val</span> float_range : float <span>&#45;&gt;</span> float <span>&#45;&gt;</span> <span>float <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>float_range low high</code> is uniform between <code>low</code> included and <code>high</code> included.</p><dl><dt>raises Invalid_argument</dt><dd><p>if <code>low &gt; high</code> or if the range is larger than <code>max_float</code>.</p></dd></dl><dl><dt>since</dt><dd>0.11</dd></dl></dd></dl><dl><dt class="spec value" id="val-int"><a href="#val-int" class="anchor"></a><code><span class="keyword">val</span> int : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Int generator. Uniformly distributed.</p></dd></dl><dl><dt class="spec value" id="val-int_bound"><a href="#val-int_bound" class="anchor"></a><code><span class="keyword">val</span> int_bound : int <span>&#45;&gt;</span> <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>int_bound n</code> is uniform between <code>0</code> and <code>n</code> included.</p></dd></dl><dl><dt class="spec value" id="val-int_range"><a href="#val-int_range" class="anchor"></a><code><span class="keyword">val</span> int_range : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>int_range a b</code> is uniform between <code>a</code> and <code>b</code> included. <code>b</code> must be larger than <code>a</code>.</p></dd></dl><dl><dt class="spec value" id="val-small_nat"><a href="#val-small_nat" class="anchor"></a><code><span class="keyword">val</span> small_nat : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Small unsigned integers.</p><dl><dt>since</dt><dd>0.5.1</dd></dl></dd></dl><dl><dt class="spec value" id="val-small_int"><a href="#val-small_int" class="anchor"></a><code><span class="keyword">val</span> small_int : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Small unsigned integers. See <a href="Gen/index.html#val-small_int"><code>Gen.small_int</code></a>.</p><dl><dt>deprecated</dt><dd><p>use <a href="index.html#val-small_signed_int"><code>small_signed_int</code></a>.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-small_signed_int"><a href="#val-small_signed_int" class="anchor"></a><code><span class="keyword">val</span> small_signed_int : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Small signed integers.</p><dl><dt>since</dt><dd>0.5.2</dd></dl></dd></dl><dl><dt class="spec value" id="val-(--)"><a href="#val-(--)" class="anchor"></a><code><span class="keyword">val</span> (--) : int <span>&#45;&gt;</span> int <span>&#45;&gt;</span> <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Synonym to <a href="index.html#val-int_range"><code>int_range</code></a>.</p></dd></dl><dl><dt class="spec value" id="val-int32"><a href="#val-int32" class="anchor"></a><code><span class="keyword">val</span> int32 : <span>int32 <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Int32 generator. Uniformly distributed.</p></dd></dl><dl><dt class="spec value" id="val-int64"><a href="#val-int64" class="anchor"></a><code><span class="keyword">val</span> int64 : <span>int64 <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Int64 generator. Uniformly distributed.</p></dd></dl><dl><dt class="spec value" id="val-pos_int"><a href="#val-pos_int" class="anchor"></a><code><span class="keyword">val</span> pos_int : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Positive int generator (0 included). Uniformly distributed. See <a href="Gen/index.html#val-pint"><code>Gen.pint</code></a></p></dd></dl><dl><dt class="spec value" id="val-small_int_corners"><a href="#val-small_int_corners" class="anchor"></a><code><span class="keyword">val</span> small_int_corners : unit <span>&#45;&gt;</span> <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>As <code>small_int</code>, but each newly created generator starts with a list of corner cases before falling back on random generation.</p></dd></dl><dl><dt class="spec value" id="val-neg_int"><a href="#val-neg_int" class="anchor"></a><code><span class="keyword">val</span> neg_int : <span>int <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Negative int generator (0 included, see <a href="Gen/index.html#val-neg_int"><code>Gen.neg_int</code></a>). The distribution is similar to that of <code>small_int</code>, not of <code>pos_int</code>.</p></dd></dl><dl><dt class="spec value" id="val-char"><a href="#val-char" class="anchor"></a><code><span class="keyword">val</span> char : <span>char <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Uniformly distributed on all the chars (not just ascii or valid latin-1).</p></dd></dl><dl><dt class="spec value" id="val-printable_char"><a href="#val-printable_char" class="anchor"></a><code><span class="keyword">val</span> printable_char : <span>char <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Uniformly distributed over a subset of chars.</p></dd></dl><dl><dt class="spec value" id="val-numeral_char"><a href="#val-numeral_char" class="anchor"></a><code><span class="keyword">val</span> numeral_char : <span>char <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Uniformly distributed over <code>'0'..'9'</code>.</p></dd></dl><dl><dt class="spec value" id="val-string_gen_of_size"><a href="#val-string_gen_of_size" class="anchor"></a><code><span class="keyword">val</span> string_gen_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>char <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-string_gen"><a href="#val-string_gen" class="anchor"></a><code><span class="keyword">val</span> string_gen : <span>char <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with a distribution of length of <code>small_nat</code>.</p></dd></dl><dl><dt class="spec value" id="val-string"><a href="#val-string" class="anchor"></a><code><span class="keyword">val</span> string : <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>char</code>.</p></dd></dl><dl><dt class="spec value" id="val-small_string"><a href="#val-small_string" class="anchor"></a><code><span class="keyword">val</span> small_string : <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Same as <a href="index.html#val-string"><code>string</code></a> but with a small length (ie <a href="Gen/index.html#val-small_nat"><code>Gen.small_nat</code></a> ).</p></dd></dl><dl><dt class="spec value" id="val-small_list"><a href="#val-small_list" class="anchor"></a><code><span class="keyword">val</span> small_list : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates lists of small size (see <a href="Gen/index.html#val-small_nat"><code>Gen.small_nat</code></a>).</p><dl><dt>since</dt><dd>0.5.3</dd></dl></dd></dl><dl><dt class="spec value" id="val-string_of_size"><a href="#val-string_of_size" class="anchor"></a><code><span class="keyword">val</span> string_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with distribution of characters if <code>char</code>.</p></dd></dl><dl><dt class="spec value" id="val-printable_string"><a href="#val-printable_string" class="anchor"></a><code><span class="keyword">val</span> printable_string : <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>printable_char</code>.</p></dd></dl><dl><dt class="spec value" id="val-printable_string_of_size"><a href="#val-printable_string_of_size" class="anchor"></a><code><span class="keyword">val</span> printable_string_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with distribution of characters of <code>printable_char</code>.</p></dd></dl><dl><dt class="spec value" id="val-small_printable_string"><a href="#val-small_printable_string" class="anchor"></a><code><span class="keyword">val</span> small_printable_string : <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dt class="spec value" id="val-numeral_string"><a href="#val-numeral_string" class="anchor"></a><code><span class="keyword">val</span> numeral_string : <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with a distribution of length of <code>small_nat</code> and distribution of characters of <code>numeral_char</code>.</p></dd></dl><dl><dt class="spec value" id="val-numeral_string_of_size"><a href="#val-numeral_string_of_size" class="anchor"></a><code><span class="keyword">val</span> numeral_string_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span>string <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates strings with a distribution of characters of <code>numeral_char</code>.</p></dd></dl><dl><dt class="spec value" id="val-list"><a href="#val-list" class="anchor"></a><code><span class="keyword">val</span> list : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates lists with length generated by <code>small_nat</code>.</p></dd></dl><dl><dt class="spec value" id="val-list_of_size"><a href="#val-list_of_size" class="anchor"></a><code><span class="keyword">val</span> list_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> list</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates lists with length from the given distribution.</p></dd></dl><dl><dt class="spec value" id="val-array"><a href="#val-array" class="anchor"></a><code><span class="keyword">val</span> array : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> array</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates arrays with length generated by <code>small_nat</code>.</p></dd></dl><dl><dt class="spec value" id="val-array_of_size"><a href="#val-array_of_size" class="anchor"></a><code><span class="keyword">val</span> array_of_size : <span>int <a href="Gen/index.html#type-t">Gen.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> array</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generates arrays with length from the given distribution.</p></dd></dl><dl><dt class="spec value" id="val-pair"><a href="#val-pair" class="anchor"></a><code><span class="keyword">val</span> pair : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Combines two generators into a generator of pairs. Order of elements can matter (w.r.t shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a>)</p></dd></dl><dl><dt class="spec value" id="val-triple"><a href="#val-triple" class="anchor"></a><code><span class="keyword">val</span> triple : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Combines three generators into a generator of 3-tuples. Order matters for shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a> and the likes</p></dd></dl><dl><dt class="spec value" id="val-quad"><a href="#val-quad" class="anchor"></a><code><span class="keyword">val</span> quad : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span> * <span class="type-var">'c</span> * <span class="type-var">'d</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Combines four generators into a generator of 4-tuples. Order matters for shrinking, see <a href="Shrink/index.html#val-pair"><code>Shrink.pair</code></a> and the likes</p></dd></dl><dl><dt class="spec value" id="val-option"><a href="#val-option" class="anchor"></a><code><span class="keyword">val</span> option : <span>?&#8288;ratio:float</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span class="type-var">'a</span> option</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Choose between returning Some random value with optional ratio, or None.</p></dd></dl><dl><dt class="spec value" id="val-fun1_unsafe"><a href="#val-fun1_unsafe" class="anchor"></a><code><span class="keyword">val</span> fun1_unsafe : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generator of functions of arity 1. The functions are always pure and total functions:</p><ul><li>when given the same argument (as decided by Pervasives.(=)), it returns the same value</li><li>it never does side effects, like printing or never raise exceptions etc. The functions generated are really printable.</li></ul><p>renamed from <a href="index.html#val-fun1"><code>fun1</code></a> since 0.6</p><dl><dt>deprecated</dt><dd><p>use <a href="index.html#type-fun_"><code>fun_</code></a> instead.</p></dd></dl><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-fun2_unsafe"><a href="#val-fun2_unsafe" class="anchor"></a><code><span class="keyword">val</span> fun2_unsafe : <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Generator of functions of arity 2. The remark about <code>fun1</code> also apply here. renamed from <a href="index.html#val-fun2"><code>fun2</code></a> since 0.6</p><dl><dt>deprecated</dt><dd><p>use <a href="index.html#type-fun_"><code>fun_</code></a> instead since 0.6</p></dd></dl></dd></dl><dl><dt class="spec type" id="type-fun_repr"><a href="#type-fun_repr" class="anchor"></a><code><span class="keyword">type</span> <span>_ fun_repr</span></code></dt><dd><p>Internal data for functions. A <code>'f fun_</code> is a function of type <code>'f</code>, fundamentally.</p></dd></dl><dl><dt class="spec type" id="type-fun_"><a href="#type-fun_" class="anchor"></a><code><span class="keyword">type</span> <span>_ fun_</span></code><code> = </code><table class="variant"><tr id="type-fun_.Fun" class="anchored"><td class="def constructor"><a href="#type-fun_.Fun" class="anchor"></a><code>| </code><code><span class="constructor">Fun</span> : <span><span class="type-var">'f</span> <a href="index.html#type-fun_repr">fun_repr</a></span> * <span class="type-var">'f</span> <span>&#45;&gt;</span> <span><span class="type-var">'f</span> <a href="index.html#type-fun_">fun_</a></span></code></td></tr></table></dt><dd><p>A function packed with the data required to print/shrink it. See <a href="Fn/index.html"><code>Fn</code></a> to see how to apply, print, etc. such a function.</p><p>One can also directly pattern match on it to obtain the executable function.</p><p>For example:</p><pre><code class="ml">QCheck.Test.make
  QCheck.(pair (fun1 Observable.int bool) (small_list int))
  (fun (Fun (_,f), l) -&gt; l=(List.rev_map f l |&gt; List.rev l))</code></pre></dd></dl><dl><dt class="spec module" id="module-Fn"><a href="#module-Fn" class="anchor"></a><code><span class="keyword">module</span> <a href="Fn/index.html">Fn</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></dt><dd><p>Utils on functions</p></dd></dl><dl><dt class="spec value" id="val-fun1"><a href="#val-fun1" class="anchor"></a><code><span class="keyword">val</span> fun1 : <span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <a href="index.html#type-fun_">fun_</a></span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>fun1 o ret</code> makes random functions that take an argument observable via <code>o</code> and map to random values generated from <code>ret</code>. To write functions with multiple arguments, it's better to use <a href="Tuple/index.html"><code>Tuple</code></a> or <a href="Observable/index.html#val-pair"><code>Observable.pair</code></a> rather than applying <a href="index.html#type-fun_"><code>fun_</code></a> several times (shrinking will be faster).</p><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><div class="spec module" id="module-Tuple"><a href="#module-Tuple" class="anchor"></a><code><span class="keyword">module</span> <a href="Tuple/index.html">Tuple</a> : <span class="keyword">sig</span> ... <span class="keyword">end</span></code></div><dl><dt class="spec value" id="val-fun_nary"><a href="#val-fun_nary" class="anchor"></a><code><span class="keyword">val</span> fun_nary : <span><span class="type-var">'a</span> <a href="Tuple/index.html#type-obs">Tuple.obs</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span>(<span><span class="type-var">'a</span> <a href="Tuple/index.html#type-t">Tuple.t</a></span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <a href="index.html#type-fun_">fun_</a></span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>fun_nary</code> makes random n-ary functions. Example:</p><pre><code class="ml">let module O = Observable in
fun_nary Tuple.(O.int @-&gt; O.float @-&gt; O.string @-&gt; o_nil) bool)</code></pre><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-fun2"><a href="#val-fun2" class="anchor"></a><code><span class="keyword">val</span> fun2 : <span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span>)</span> <a href="index.html#type-fun_">fun_</a></span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-fun3"><a href="#val-fun3" class="anchor"></a><code><span class="keyword">val</span> fun3 : <span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span>)</span> <a href="index.html#type-fun_">fun_</a></span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-fun4"><a href="#val-fun4" class="anchor"></a><code><span class="keyword">val</span> fun4 : <span><span class="type-var">'a</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'c</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'d</span> <a href="Observable/index.html#type-t">Observable.t</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'e</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span><span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'c</span> <span>&#45;&gt;</span> <span class="type-var">'d</span> <span>&#45;&gt;</span> <span class="type-var">'e</span>)</span> <a href="index.html#type-fun_">fun_</a></span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><dl><dt>since</dt><dd>0.6</dd></dl></dd></dl><dl><dt class="spec value" id="val-oneofl"><a href="#val-oneofl" class="anchor"></a><code><span class="keyword">val</span> oneofl : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;collect:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Pick an element randomly in the list.</p></dd></dl><dl><dt class="spec value" id="val-oneofa"><a href="#val-oneofa" class="anchor"></a><code><span class="keyword">val</span> oneofa : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;collect:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> array</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Pick an element randomly in the array.</p></dd></dl><dl><dt class="spec value" id="val-oneof"><a href="#val-oneof" class="anchor"></a><code><span class="keyword">val</span> oneof : <span><span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Pick a generator among the list, randomly.</p><dl><dt>deprecated</dt><dd><p>this function is badly specified and will not use shrinkers appropriately. Consider using <a href="Gen/index.html#val-oneof"><code>Gen.oneof</code></a> and then <a href="index.html#val-make"><code>make</code></a> to build a well behaved arbitrary instance.</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-always"><a href="#val-always" class="anchor"></a><code><span class="keyword">val</span> always : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span class="type-var">'a</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Always return the same element.</p></dd></dl><dl><dt class="spec value" id="val-frequency"><a href="#val-frequency" class="anchor"></a><code><span class="keyword">val</span> frequency : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;small:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span>?&#8288;shrink:<span><span class="type-var">'a</span> <a href="Shrink/index.html#type-t">Shrink.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;collect:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> string)</span></span> <span>&#45;&gt;</span> <span><span>(int * <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span>)</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Similar to <a href="index.html#val-oneof"><code>oneof</code></a> but with frequencies.</p></dd></dl><dl><dt class="spec value" id="val-frequencyl"><a href="#val-frequencyl" class="anchor"></a><code><span class="keyword">val</span> frequencyl : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;small:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span><span>(int * <span class="type-var">'a</span>)</span> list</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Same as <a href="index.html#val-oneofl"><code>oneofl</code></a>, but each element is paired with its frequency in the probability distribution (the higher, the more likely).</p></dd></dl><dl><dt class="spec value" id="val-frequencya"><a href="#val-frequencya" class="anchor"></a><code><span class="keyword">val</span> frequencya : <span>?&#8288;print:<span><span class="type-var">'a</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;small:<span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span><span>(int * <span class="type-var">'a</span>)</span> array</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Same as <a href="index.html#val-frequencyl"><code>frequencyl</code></a>, but with an array.</p></dd></dl><dl><dt class="spec value" id="val-map"><a href="#val-map" class="anchor"></a><code><span class="keyword">val</span> map : <span>?&#8288;rev:<span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'b</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>map f a</code> returns a new arbitrary instance that generates values using <code>a#gen</code> and then transforms them through <code>f</code>.</p><dl><dt>parameter rev</dt><dd><p>if provided, maps values back to type <code>'a</code> so that the printer, shrinker, etc. of <code>a</code> can be used. We assume <code>f</code> is monotonic in this case (that is, smaller inputs are transformed into smaller outputs).</p></dd></dl></dd></dl><dl><dt class="spec value" id="val-map_same_type"><a href="#val-map_same_type" class="anchor"></a><code><span class="keyword">val</span> map_same_type : <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'a</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p>Specialization of <code>map</code> when the transformation preserves the type, which makes shrinker, printer, etc. still relevant.</p></dd></dl><dl><dt class="spec value" id="val-map_keep_input"><a href="#val-map_keep_input" class="anchor"></a><code><span class="keyword">val</span> map_keep_input : <span>?&#8288;print:<span><span class="type-var">'b</span> <a href="Print/index.html#type-t">Print.t</a></span></span> <span>&#45;&gt;</span> <span>?&#8288;small:<span>(<span class="type-var">'b</span> <span>&#45;&gt;</span> int)</span></span> <span>&#45;&gt;</span> <span>(<span class="type-var">'a</span> <span>&#45;&gt;</span> <span class="type-var">'b</span>)</span> <span>&#45;&gt;</span> <span><span class="type-var">'a</span> <a href="index.html#type-arbitrary">arbitrary</a></span> <span>&#45;&gt;</span> <span><span>(<span class="type-var">'a</span> * <span class="type-var">'b</span>)</span> <a href="index.html#type-arbitrary">arbitrary</a></span></code></dt><dd><p><code>map_keep_input f a</code> generates random values from <code>a</code>, and maps them into values of type <code>'b</code> using the function <code>f</code>, but it also keeps the original value. For shrinking, it is assumed that <code>f</code> is monotonic and that smaller input values will map into smaller values.</p><dl><dt>parameter print</dt><dd><p>optional printer for the <code>f</code>'s output.</p></dd></dl></dd></dl></section></div></body></html>